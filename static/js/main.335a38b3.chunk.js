(this.webpackJsonpalm=this.webpackJsonpalm||[]).push([[0],{25:function(e,n,t){"use strict";t.r(n);var c,o,r,i,a,u,b,s,l,d,j,O,f=t(2),p=t(0),v=t.n(p),x=t(12),g=t.n(x),m=t(3),h=t(16),k=t(5),C=t(4),w=t(17),y="node-list",z=t(1),T=m.c.label(c||(c=Object(f.a)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  background: inherit;\n  position: absolute;\n  right: -40px;\n\n  & + input {\n    visibility: hidden;\n    position: absolute;\n  }\n"]))),S=Object(p.memo)((function(e){var n=e.color,t=e.onChangeColor,c=Object(p.useCallback)((function(e){t(e.target.value)}),[t]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(T,{htmlFor:"color-picker"}),Object(z.jsx)("input",{id:"color-picker",type:"color",value:n,onChange:c})]})})),E=m.c.div(o||(o=Object(f.a)(["\n  position: relative;\n  display: inline-block;\n  padding: 20px;\n  box-sizing: border-box;\n  outline: none;\n  max-width: 100%;\n  word-break: break-all;\n\n  &:empty:before {\n    content: 'Place some text here';\n    opacity: 0.3;\n  }\n"]))),I=Object(p.memo)((function(e){var n=e.text,t=e.containerMinSize,c=e.onSave,o=Object(p.useState)(!1),r=Object(C.a)(o,2),i=r[0],a=r[1],u=Object(p.useRef)(null),b=Object(p.useCallback)((function(){a(!0),document.addEventListener("mousedown",(function(e){var n;e.currentTarget!==u.current&&(a(!1),c({text:(null===(n=u.current)||void 0===n?void 0:n.innerHTML)||""}))}),{once:!0})}),[c]);return Object(p.useEffect)((function(){var e;i&&(null===(e=u.current)||void 0===e||e.focus())}),[i]),Object(z.jsx)(E,{ref:u,onClick:b,contentEditable:i,suppressContentEditableWarning:!0,style:{fontSize:t/5},children:n})})),M=m.c.div(r||(r=Object(f.a)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  background: lightblue;\n  position: absolute;\n  right: -40px;\n  top: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  font-size: 12px;\n  cursor: pointer;\n"]))),L=Object(p.memo)((function(e){var n=e.onClick;return Object(z.jsx)(M,{onClick:n,title:"Move to top",children:"Move Top"})})),R=m.c.div(i||(i=Object(f.a)(["\n  position: absolute;\n\t","\n"])),(function(e){return e.active&&Object(m.b)(a||(a=Object(f.a)(["\n\t\twill-change: transform;\n\t"])))})),D=m.c.div(u||(u=Object(f.a)(["\n  resize: both;\n  box-shadow: 0 3px 5px 1px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  overflow: auto;\n\t","\n"])),(function(e){return e.isAboutToDelete&&Object(m.b)(b||(b=Object(f.a)(["\n\t\topacity: 0.5;\n\t"])))})),B=Object(p.memo)((function(e){var n,t=e.onHover,c=e.active,o=e.onDelete,r=e.onMoveNoteToTop,i=e.isOnTopOfLayer,a=e.onSave,u=Object(w.a)(e,["onHover","active","onDelete","onMoveNoteToTop","isOnTopOfLayer","onSave"]),b=Object(p.useCallback)((function(e){a(u.id,e)}),[u.id,a]),s=Object(p.useCallback)((function(){o(u.id)}),[u.id,o]),l=Object(p.useCallback)((function(){r(u.id)}),[u.id,r]),d=Object(p.useRef)(null),j=(n=b,Object(p.useCallback)((function(e){var t,c,o=e.currentTarget,r=o.getBoundingClientRect(),i=r.top,a=r.left,u=e.pageX-a+25,b=e.pageY-i+25,s=function(e){t=e.pageX-u,c=e.pageY-b,o.style.transform="translate(".concat(t,"px, ").concat(c,"px)")};document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",s),t&&c&&n({transform:[t,c]})}),{once:!0})}),[n])),O=function(e){return Object(p.useCallback)((function(){document.addEventListener("mouseup",(function(n){if(n.target){var t=n.target.getBoundingClientRect();e({size:[t.width,t.height]})}}),{once:!0})}),[e])}(b),f=Object(p.useRef)(),v=function(e,n){var t=Object(p.useState)(!1),c=Object(C.a)(t,2),o=c[0],r=c[1],i=Object(p.useCallback)((function(e){var t=Object(C.a)(e,1)[0];r(!t.isIntersecting),t.isIntersecting?document.removeEventListener("mouseup",n):document.addEventListener("mouseup",n,{once:!0})}),[n]),a=Object(p.useMemo)((function(){var e=document.getElementById(y);return e?new IntersectionObserver(i,{threshold:1,root:e}):null}),[e.current,i]);return Object(p.useEffect)((function(){if(a)return e.current&&a.observe(e.current),function(){a.disconnect()}}),[e.current,a]),o}(d,s),x=Object(p.useCallback)((function(e){t(u.id);var n=e.currentTarget.getBoundingClientRect();n.width+n.left-e.pageX<20&&n.height+n.top-e.pageY<20?O():j(e)}),[t,j]),g=Object(p.useCallback)((function(e){d.current&&(d.current.style.background=e,clearTimeout(f.current),f.current=window.setTimeout(b,300,{color:e}))}),[b]),m=Object(C.a)(u.transform,2),h=m[0],k=m[1],T=Object(C.a)(u.size,2),E=T[0],M=T[1];return Object(z.jsx)(R,{style:{transform:"translate(".concat(h,"px, ").concat(k,"px)"),zIndex:u.zIndex},onMouseDown:x,active:c,children:Object(z.jsxs)(D,{style:{width:E,height:M,background:u.color},ref:d,isAboutToDelete:v,children:[c&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(S,{color:u.color,onChangeColor:g}),!i&&Object(z.jsx)(L,{onClick:l})]}),Object(z.jsx)(I,{text:u.text,containerMinSize:Math.min(E,M),onSave:b})]})})})),N=m.c.button(s||(s=Object(f.a)(["\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  z-index: 5000;\n  outline: none;\n  border: none;\n  font-size: 36px;\n  background: #61dafb;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n"]))),F=Object(p.memo)((function(e){return Object(z.jsx)(N,Object(k.a)(Object(k.a)({},e),{},{children:"+"}))})),H=m.c.div(l||(l=Object(f.a)(["\n  position: relative;\n  background: white;\n  width: 100%;\n  height: 100%;\n"]))),J={text:"",id:1,color:"#0075ab",zIndex:1,size:[200,200],transform:[300,300]},X=Object(p.memo)((function(){var e=Object(p.useState)(null),n=Object(C.a)(e,2),t=n[0],c=n[1],o=function(e,n){var t,c=null!==(t=JSON.parse(localStorage.getItem(e)))&&void 0!==t?t:n,o=Object(p.useState)(c),r=Object(C.a)(o,2),i=r[0],a=r[1];return[i,Object(p.useCallback)((function(n){localStorage.setItem(e,JSON.stringify(n)),a(n)}),[])]}("notes",[]),r=Object(C.a)(o,2),i=r[0],a=r[1],u=Object(p.useRef)(i),b=Object(p.useRef)(1);i!==u.current&&(u.current=i),Object(p.useEffect)((function(){u.current.forEach((function(e){var n=e.zIndex;b.current=Math.max(n,b.current)}))}),[]);var s=Object(p.useCallback)((function(e,n){var t=u.current.map((function(t){return t.id!==e?t:Object(k.a)(Object(k.a)({},t),n)}));a(t)}),[]),l=Object(p.useCallback)((function(e){var n=u.current.filter((function(n){return n.id!==e}));a(n)}),[]),d=Object(p.useCallback)((function(){b.current+=1;var e=Object(k.a)(Object(k.a)({},J),{},{id:performance.now(),zIndex:b.current});a([].concat(Object(h.a)(u.current),[e])),c(e.id)}),[]),j=Object(p.useCallback)((function(e){b.current+=1,s(e,{zIndex:b.current})}),[]);return Object(z.jsxs)(H,{id:y,children:[Object(z.jsx)(F,{onClick:d}),u.current.map((function(e){return Object(z.jsx)(B,Object(k.a)(Object(k.a)({},e),{},{transform:e.transform,active:t===e.id,onHover:c,onMoveNoteToTop:j,onSave:s,onDelete:l,isOnTopOfLayer:b.current===e.zIndex}),e.id)}))]})})),Y=m.c.div(d||(d=Object(f.a)(["\n  padding: 25px;\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  box-sizing: border-box;\n  background: repeating-linear-gradient(\n    -55deg,\n    #222,\n    #222 10px,\n    #333 10px,\n    #333 20px\n  );\n"]))),A=function(e){var n=e.children;return Object(z.jsx)(Y,{children:n})},P=Object(m.a)(j||(j=Object(f.a)(["\n  body {\n    overflow: hidden;\n    margin: 0;\n    padding: 0;\n    font-family: Roboto, sans-serif;\n  }\n"]))),W=function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(P,{}),Object(z.jsx)(A,{children:Object(z.jsx)(X,{})})]})},q=Object(m.a)(O||(O=Object(f.a)(["\n  body {\n    overflow: hidden;\n  }\n"])));g.a.render(Object(z.jsxs)(v.a.StrictMode,{children:[Object(z.jsx)(q,{}),Object(z.jsx)(W,{})]}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.335a38b3.chunk.js.map